### 大数据相关
1. **java8 stream流式API的使用**，加快了处理常见集合的速度，使得在处理数据时更快，更方便简洁  

```java

public Map<String, Object> searchMovies(MovieSearchDto info) {
        Pair<Integer, Integer> pair = RecommendUtils.getStartAndEnd(info.getPage(), info.getSize());
        List<MovieEntity> allMovie = info.getTags().stream()
                .map(t -> getMovies(t, "tag", info.getPage() * info.getSize()))
                .flatMap(Collection::stream)
                .collect(Collectors.toCollection(LinkedList::new));
        if (!StringUtils.isEmpty(info.getContent())) {
            allMovie.addAll(getMovies(info.getContent(), "name", info.getPage() * info.getSize()));
        }
        List<MovieEntity> movieList = allMovie.subList(pair.getLeft(), pair.getRight() <= allMovie.size() ? pair.getRight() : allMovie.size());
        Map<String, Object> result = new HashMap<>(2, 1);
        result.put("total", allMovie.size());
        result.put("movieList", movieList.stream().peek(m -> {
            if (StringUtils.isEmpty(m.getCover())) {
                m.setCover(ServerConstant.DefaultImg);
            }
        }).collect(Collectors.toCollection(LinkedList::new)));
        return result;
    }

```